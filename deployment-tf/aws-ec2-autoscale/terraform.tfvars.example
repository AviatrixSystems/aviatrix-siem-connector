# Example terraform.tfvars for Aviatrix Log Integration Engine - Autoscale Deployment
# Copy this file to terraform.tfvars and update with your values

# AWS Configuration
aws_region = "us-east-2"
logstash_instance_size = "t3.small"
ssh_key_name = "YOUR_SSH_KEY_NAME"

# Network Configuration
# IMPORTANT: The VPC and subnets must be able to reach your Splunk/SIEM server
vpc_id = "vpc-XXXXXXXXXXXXX"

# Subnet IDs for EC2 instances (should be in different AZs for HA)
instance_subnet_ids = [
  "subnet-XXXXXXXXXXXXX",  # AZ 1
  "subnet-YYYYYYYYYYYYY"   # AZ 2
]

# Subnet IDs for Network Load Balancer (should be in different AZs)
lb_subnet_ids = [
  "subnet-XXXXXXXXXXXXX",  # AZ 1
  "subnet-YYYYYYYYYYYYY"   # AZ 2
]

# Instance Configuration
assign_instance_public_ip = false

# Autoscaling Configuration
autoscale_min_size = 2     # Minimum number of instances
autoscale_max_size = 6     # Maximum number of instances
autoscale_step_size = 2    # Number of instances to add/remove when scaling

# Syslog Configuration
syslog_port = "5000"
syslog_protocol = "tcp"

# Log Profile - which log types to forward
# Options: "all" (default), "security", "networking"
#   - all: Forward all log types
#   - security: suricata, mitm, microseg, fqdn, cmd (firewall/IDS/audit logs)
#   - networking: gw_net_stats, gw_sys_stats, tunnel_status (infrastructure monitoring)
log_profile = "all"

# Logstash Config Paths
# Use the assembled config directory which contains both the .conf file and docker_run.tftpl
logstash_config_path = "../../logstash-configs/assembled"
logstash_config_name = "splunk-hec-full.conf"  # or azure-log-ingestion-full.conf
logstash_patterns_path = "../../logstash-configs/patterns"
docker_run_template_path = "../../logstash-configs/outputs/splunk-hec/docker_run.tftpl"

# Splunk Configuration
# IMPORTANT: Update these with your actual Splunk values
logstash_config_variables = {
  "splunk_hec_auth" = "YOUR_SPLUNK_HEC_TOKEN_HERE",        # Get from Splunk: Settings -> Data Inputs -> HTTP Event Collector
  "splunk_port" = "8088",
  "splunk_address" = "https://YOUR_SPLUNK_PRIVATE_IP"     # Use private IP if in same VPC
}

# Resource Tags
tags = {
  "App" = "avx-log-integration"
  "Environment" = "production"
  "Owner" = "your-name"
}
