@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer utilities {
  .container {
    @apply mx-auto w-full px-4 sm:px-6 lg:px-8;
    max-width: 72rem;
  }
  .scrollbar-thin {
    scrollbar-width: thin;
  }
  .scrollbar-thumb-rounded::-webkit-scrollbar-thumb {
    border-radius: var(--radius);
  }
  .scrollbar {
    &::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    &::-webkit-scrollbar-track {
      background: transparent;
    }
    &::-webkit-scrollbar-thumb {
      background-color: hsl(var(--muted-foreground) / 0.3);
      border-radius: var(--radius);
    }
  }

  .lucide {
    stroke-width: 2;
  }

  /* Progress bar infinite animation */
  @keyframes progress-infinite {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(200%);
    }
  }

  .animate-progress-infinite {
    animation: progress-infinite 1.5s cubic-bezier(0.4, 0, 0.2, 1) infinite;
  }

  /* Sankey flow pulse animation */
  @keyframes sankey-flow-pulse {
    0%,
    100% {
      opacity: 0.3;
    }
    50% {
      opacity: 0.7;
    }
  }

  .sankey-link-animated {
    animation: sankey-flow-pulse 2s ease-in-out infinite;
  }
}

/* AG Grid theme mode integration */
/* AG Grid uses data-ag-theme-mode attribute to switch color schemes */
/* The theme configuration in theme.ts maps our CSS variables to AG Grid colors */
/* This ensures proper dark mode support when data-ag-theme-mode="dark" is set */

/* Additional overrides for specific cases if needed */
/* Most styling is handled by the theme configuration, but we can add specific overrides here */
.ag-theme-quartz {
  /* Ensure consistent border styling */
  --ag-border-color: var(--Border-Default);

  /* Ensure consistent header styling */
  --ag-header-background-color: var(--Background-Light);

  /* Ensure consistent row backgrounds */
  --ag-row-background-color: var(--Background-Light);
  --ag-odd-row-background-color: var(--Background-Light);
  --ag-even-row-background-color: var(--Background-Light);
}
